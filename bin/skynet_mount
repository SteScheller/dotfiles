#!/bin/bash

# Mount NAS via SSH

if [ ! "$(ls -A /local/stefan/mnt/nas/musik)" ]
then
    ping -c 1 -w 3 5.158.134.10 &> /dev/null
    RETVAL=$?
    if [ "$RETVAL" == 0 ] 
    then
        sshfs -o uid=1000,gid=1000 -C -p 443 stefan@5.158.134.10:/media/nas/bilder /local/stefan/mnt/nas/bilder &> /dev/null
        sshfs -o uid=1000,gid=1000 -C -p 443 stefan@5.158.134.10:/media/nas/videos /local/stefan/mnt/nas/videos &> /dev/null
        sshfs -o uid=1000,gid=1000 -C -p 443 stefan@5.158.134.10:/media/nas/musik /local/stefan/mnt/nas/musik &> /dev/null
        sshfs -o uid=1000,gid=1000 -C -p 443 stefan@5.158.134.10:/media/nas/etc /local/stefan/mnt/nas/etc &> /dev/null
        sshfs -o uid=1000,gid=1000 -C -p 443 stefan@5.158.134.10:/media/nas/backup/stefan /local/stefan/mnt/nas/backup &> /dev/null
        RETVAL=$?
        if [ "$RETVAL" == 0 ] 
        then
            echo "mounted skynet drives..."
        else
            echo "could not mount skynet drives..."
        fi
    fi
else
    echo "skynet drives are mounted..."
fi

